apiVersion: v1
kind: ConfigMap
metadata:
  name: airflow-config
  namespace: airflow
data:
  # Airflow Configuration
  AIRFLOW__CORE__EXECUTOR: "KubernetesExecutor"
  AIRFLOW__CORE__LOAD_EXAMPLES: "False"
  AIRFLOW__WEBSERVER__EXPOSE_CONFIG: "True"
  AIRFLOW__OPERATORS__DEFAULT_QUEUE: "default"
  AIRFLOW__SCHEDULER__DAG_DIR_LIST_INTERVAL: "5"
  AIRFLOW__LOGGING__LOGGING_LEVEL: "INFO"
  
  # Kubernetes Executor Configuration
  AIRFLOW__KUBERNETES_EXECUTOR__NAMESPACE: "airflow"
  AIRFLOW__KUBERNETES_EXECUTOR__WORKER_CONTAINER_REPOSITORY: "apache/airflow"
  AIRFLOW__KUBERNETES_EXECUTOR__WORKER_CONTAINER_TAG: "2.10.2-python3.9"
  AIRFLOW__KUBERNETES_EXECUTOR__DELETE_WORKER_PODS: "True"
  AIRFLOW__KUBERNETES_EXECUTOR__DELETE_WORKER_PODS_ON_SUCCESS: "True"
  AIRFLOW__KUBERNETES_EXECUTOR__DELETE_WORKER_PODS_ON_FAILURE: "False"
  
  # Database Configuration  
  POSTGRES_DB: "airflow"
  POSTGRES_USER: "airflow"
  
  # Python and Airflow versions
  PYTHON_VERSION: "3.11"
  APACHE_AIRFLOW_VERSION: "2.10.2"
  
  # Webserver admin
  WEBSERVER_ADMIN_LOGIN: "admin"
  WEBSERVER_ADMIN_EMAIL: "admin@example.com"
